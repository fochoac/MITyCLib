<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (1.8.0_261) on Thu Oct 29 20:57:26 COT 2020 -->
<title>FirmaXML</title>
<meta name="date" content="2020-10-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FirmaXML";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../es/mityc/firmaJava/libreria/xades/ExtraValidators.html" title="class in es.mityc.firmaJava.libreria.xades"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../es/mityc/firmaJava/libreria/xades/logv.html" title="class in es.mityc.firmaJava.libreria.xades"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?es/mityc/firmaJava/libreria/xades/FirmaXML.html" target="_top">Frames</a></li>
<li><a href="FirmaXML.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">es.mityc.firmaJava.libreria.xades</div>
<h2 title="Class FirmaXML" class="title">Class FirmaXML</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>es.mityc.firmaJava.libreria.xades.FirmaXML</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FirmaXML</span>
extends java.lang.Object</pre>
<div class="block"><p>Clase principal para la firma de documentos XML.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#FirmaXML--">FirmaXML</a></span>()</code>
<div class="block">Crea una nueva instancia de FirmaXML</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#addResolver-es.mityc.javasign.xml.resolvers.IPrivateData-">addResolver</a></span>(<a href="../../../../../es/mityc/javasign/xml/resolvers/IPrivateData.html" title="interface in es.mityc.javasign.xml.resolvers">IPrivateData</a>&nbsp;resolver)</code>
<div class="block">Añade una instancia encargada de resolver los accesos a elementos firmados en la firma cuyo contenido es privado.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#addResolver-es.mityc.javasign.xml.resolvers.IResourceData-">addResolver</a></span>(<a href="../../../../../es/mityc/javasign/xml/resolvers/IResourceData.html" title="interface in es.mityc.javasign.xml.resolvers">IResourceData</a>&nbsp;resolver)</code>
<div class="block">Añade una instancia encargada de resolver los accesos a elementos firmados en la firma que requieran un acceso especial.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#addResolver-es.mityc.javasign.xml.resolvers.MITyCResourceResolver-">addResolver</a></span>(<a href="../../../../../es/mityc/javasign/xml/resolvers/MITyCResourceResolver.html" title="class in es.mityc.javasign.xml.resolvers">MITyCResourceResolver</a>&nbsp;resolver)</code>
<div class="block">Añade una instancia encargada de resolver accesos a información.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#addURIXadesC-org.w3c.dom.Element-java.util.ArrayList-java.lang.String-">addURIXadesC</a></span>(org.w3c.dom.Element&nbsp;firma,
            java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/NombreElementos.html" title="class in es.mityc.firmaJava.libreria.xades">NombreElementos</a>&gt;&nbsp;listaArchivos,
            java.lang.String&nbsp;baseUri)</code>
<div class="block">Este método se encarga de insertar las URIs de XADES-C en la firma</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#countersign2Stream-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.io.OutputStream-">countersign2Stream</a></span>(java.security.cert.X509Certificate&nbsp;firmaCertificado,
                  <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
                  <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
                  java.lang.String&nbsp;nodoAFirmarId,
                  java.io.OutputStream&nbsp;salida)</code>
<div class="block">Contrafirma una firma según esquema XAdES y la deja en un OutputStream</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#countersignFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.lang.String-java.lang.String-">countersignFile</a></span>(java.security.cert.X509Certificate&nbsp;firmaCertificado,
               <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
               <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
               java.lang.String&nbsp;nodoAFirmarId,
               java.lang.String&nbsp;destino,
               java.lang.String&nbsp;nombreArchivo)</code>
<div class="block">Contrafirma una firma según esquema XAdES y la deja en un fichero</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#getMilisDiffSigningTime-org.w3c.dom.Element-">getMilisDiffSigningTime</a></span>(org.w3c.dom.Element&nbsp;node)</code>
<div class="block">Comprueba la fecha de firma con respecto a la fecha actual del sistema.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#getMilisDiffSigningTime-org.w3c.dom.Element-java.lang.String-">getMilisDiffSigningTime</a></span>(org.w3c.dom.Element&nbsp;padre,
                       java.lang.String&nbsp;idNode)</code>
<div class="block">Comprueba la fecha de firma con respecto a la fecha actual del sistema.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#raiseLevel-es.mityc.firmaJava.libreria.xades.DataToSign-java.lang.String-">raiseLevel</a></span>(<a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;signData,
          java.lang.String&nbsp;signatureID)</code>
<div class="block">Sube el nivel XAdES de la firma indicada.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#raiseLevel-java.io.InputStream-es.mityc.javasign.EnumFormatoFirma-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">raiseLevel</a></span>(java.io.InputStream&nbsp;firma,
          <a href="../../../../../es/mityc/javasign/EnumFormatoFirma.html" title="enum in es.mityc.javasign">EnumFormatoFirma</a>&nbsp;nivelDeseado,
          java.lang.String&nbsp;path,
          java.lang.String&nbsp;nombreArchivo,
          java.lang.String&nbsp;id,
          java.lang.String&nbsp;ocspUrl,
          java.lang.String&nbsp;tsaUrl,
          java.lang.String&nbsp;trusterId)</code>
<div class="block">Sube el nivel XAdES de un InputStream de firma y lo guarda en la dirección indicada</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/NombreElementos.html" title="class in es.mityc.firmaJava.libreria.xades">NombreElementos</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#saveOCSPFiles-java.util.ArrayList-es.mityc.javasign.xml.xades.IStoreElements-">saveOCSPFiles</a></span>(java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/RespYCerts.html" title="class in es.mityc.firmaJava.libreria.xades">RespYCerts</a>&gt;&nbsp;respuesta,
             <a href="../../../../../es/mityc/javasign/xml/xades/IStoreElements.html" title="interface in es.mityc.javasign.xml.xades">IStoreElements</a>&nbsp;storer)</code>
<div class="block">Este método se encarga de guardar los archivos OCSP</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#setDefaultNSXmlSig-java.lang.String-">setDefaultNSXmlSig</a></span>(java.lang.String&nbsp;namespace)</code>
<div class="block">Establece el namespace que se aplicará a los nodos de XML Signature.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#setLocale-java.lang.String-">setLocale</a></span>(java.lang.String&nbsp;locale)</code>
<div class="block">Establece el Locale del sistema antiguo de internacionalización.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#sign2Stream-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.io.OutputStream-">sign2Stream</a></span>(java.security.cert.X509Certificate&nbsp;firmaCertificado,
           <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
           <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
           java.io.OutputStream&nbsp;salida)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#signFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.lang.String-">signFile</a></span>(java.security.cert.X509Certificate&nbsp;firmaCertificado,
        <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
        <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
        java.lang.String&nbsp;destino,
        java.lang.String&nbsp;nombreArchivo)</code>
<div class="block">Firma un fichero XML</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.lang.Object[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../es/mityc/firmaJava/libreria/xades/FirmaXML.html#signFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-java.security.PrivateKey-java.security.Provider-">signFile</a></span>(java.security.cert.X509Certificate&nbsp;certificadoFirma,
        <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;dataToSign,
        java.security.PrivateKey&nbsp;pk,
        java.security.Provider&nbsp;provider)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FirmaXML--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FirmaXML</h4>
<pre>public&nbsp;FirmaXML()</pre>
<div class="block">Crea una nueva instancia de FirmaXML</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setDefaultNSXmlSig-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultNSXmlSig</h4>
<pre>public&nbsp;void&nbsp;setDefaultNSXmlSig(java.lang.String&nbsp;namespace)</pre>
<div class="block"><p>Establece el namespace que se aplicará a los nodos de XML Signature.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>namespace</code> - Namespace aplicado a XMLSig</dd>
</dl>
</li>
</ul>
<a name="setLocale-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLocale</h4>
<pre>public&nbsp;void&nbsp;setLocale(java.lang.String&nbsp;locale)</pre>
<div class="block"><p>Establece el Locale del sistema antiguo de internacionalización.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>locale</code> - Localización a aplicar</dd>
</dl>
</li>
</ul>
<a name="addResolver-es.mityc.javasign.xml.resolvers.IPrivateData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addResolver</h4>
<pre>public&nbsp;void&nbsp;addResolver(<a href="../../../../../es/mityc/javasign/xml/resolvers/IPrivateData.html" title="interface in es.mityc.javasign.xml.resolvers">IPrivateData</a>&nbsp;resolver)</pre>
<div class="block">Añade una instancia encargada de resolver los accesos a elementos firmados en la firma cuyo contenido es privado.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - objeto que implementa la interfaz IPrivateDate para el acceso a elementos privados</dd>
</dl>
</li>
</ul>
<a name="addResolver-es.mityc.javasign.xml.resolvers.MITyCResourceResolver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addResolver</h4>
<pre>public&nbsp;void&nbsp;addResolver(<a href="../../../../../es/mityc/javasign/xml/resolvers/MITyCResourceResolver.html" title="class in es.mityc.javasign.xml.resolvers">MITyCResourceResolver</a>&nbsp;resolver)</pre>
<div class="block">Añade una instancia encargada de resolver accesos a información.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - resolver</dd>
</dl>
</li>
</ul>
<a name="addResolver-es.mityc.javasign.xml.resolvers.IResourceData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addResolver</h4>
<pre>public&nbsp;void&nbsp;addResolver(<a href="../../../../../es/mityc/javasign/xml/resolvers/IResourceData.html" title="interface in es.mityc.javasign.xml.resolvers">IResourceData</a>&nbsp;resolver)</pre>
<div class="block">Añade una instancia encargada de resolver los accesos a elementos firmados en la firma que requieran un acceso especial.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - objeto que implementa la interfaz IResourceData para el acceso a elementos</dd>
</dl>
</li>
</ul>
<a name="sign2Stream-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign2Stream</h4>
<pre>public&nbsp;java.lang.String&nbsp;sign2Stream(java.security.cert.X509Certificate&nbsp;firmaCertificado,
                                    <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
                                    <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
                                    java.io.OutputStream&nbsp;salida)
                             throws java.lang.Exception</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firmaCertificado</code> - </dd>
<dd><code>xml</code> - </dd>
<dd><code>storeManager</code> - </dd>
<dd><code>salida</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Retorna el id del</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="signFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signFile</h4>
<pre>public&nbsp;boolean&nbsp;signFile(java.security.cert.X509Certificate&nbsp;firmaCertificado,
                        <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
                        <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
                        java.lang.String&nbsp;destino,
                        java.lang.String&nbsp;nombreArchivo)
                 throws java.lang.Exception</pre>
<div class="block">Firma un fichero XML</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pk</code> - Clave privada del certificado firmante</dd>
<dd><code>firmaCertificado</code> - Certificado firmante</dd>
<dd><code>xml</code> - Fichero XML a firmar</dd>
<dd><code>directorioPerfil</code> - Directorio de configuracion de Firefox</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Array de bytes con el XML firmado</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - En caso de error</dd>
</dl>
</li>
</ul>
<a name="signFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-java.security.PrivateKey-java.security.Provider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signFile</h4>
<pre>public&nbsp;java.lang.Object[]&nbsp;signFile(java.security.cert.X509Certificate&nbsp;certificadoFirma,
                                   <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;dataToSign,
                                   java.security.PrivateKey&nbsp;pk,
                                   java.security.Provider&nbsp;provider)
                            throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="countersignFile-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countersignFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;countersignFile(java.security.cert.X509Certificate&nbsp;firmaCertificado,
                                        <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
                                        <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
                                        java.lang.String&nbsp;nodoAFirmarId,
                                        java.lang.String&nbsp;destino,
                                        java.lang.String&nbsp;nombreArchivo)
                                 throws java.lang.Exception</pre>
<div class="block">Contrafirma una firma según esquema XAdES y la deja en un fichero</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firmaCertificado</code> - Certificado con el que realizar la contrafirma</dd>
<dd><code>xml</code> - Objeto de la clase DataToSign con la información a contrafirmar</dd>
<dd><code>storeManager</code> - Almacén de certificados</dd>
<dd><code>nodoAFirmarId</code> - Identificador del nodo a contrafirmar</dd>
<dd><code>destino</code> - Directorio donde dejar la contrafirma</dd>
<dd><code>nombreArchivo</code> - Nombre del archivo que contendrá la contrafirma.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Identificador de la firma generada</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="countersign2Stream-java.security.cert.X509Certificate-es.mityc.firmaJava.libreria.xades.DataToSign-es.mityc.javasign.pkstore.IPKStoreManager-java.lang.String-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countersign2Stream</h4>
<pre>public&nbsp;java.lang.String&nbsp;countersign2Stream(java.security.cert.X509Certificate&nbsp;firmaCertificado,
                                           <a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;xml,
                                           <a href="../../../../../es/mityc/javasign/pkstore/IPKStoreManager.html" title="interface in es.mityc.javasign.pkstore">IPKStoreManager</a>&nbsp;storeManager,
                                           java.lang.String&nbsp;nodoAFirmarId,
                                           java.io.OutputStream&nbsp;salida)
                                    throws java.lang.Exception</pre>
<div class="block">Contrafirma una firma según esquema XAdES y la deja en un OutputStream</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firmaCertificado</code> - Certificado con el que realizar la contrafirma</dd>
<dd><code>xml</code> - Objeto de la clase DataToSign con la información a contrafirmar</dd>
<dd><code>storeManager</code> - Almacén de certificados</dd>
<dd><code>nodoAFirmarId</code> - Identificador del nodo a contrafirmar</dd>
<dd><code>salida</code> - OutputStream donde dejar la contrafirma</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Identificador de la firma generada</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getMilisDiffSigningTime-org.w3c.dom.Element-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMilisDiffSigningTime</h4>
<pre>public&nbsp;long&nbsp;getMilisDiffSigningTime(org.w3c.dom.Element&nbsp;padre,
                                    java.lang.String&nbsp;idNode)</pre>
<div class="block"><p>Comprueba la fecha de firma con respecto a la fecha actual del sistema.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>padre</code> - padre Nodo ra&iacute;z del cual pende el nodo buscado.</dd>
<dd><code>idNode</code> - Id del nodo desde el cual se extraerá el nodo SigningTime.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 en caso de que sean iguales o en caso de error.
         < 0 en caso de que la fecha de firma sea anterior.
         > 0 en caso de una firma realizada en el furuto.</dd>
</dl>
</li>
</ul>
<a name="getMilisDiffSigningTime-org.w3c.dom.Element-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMilisDiffSigningTime</h4>
<pre>public&nbsp;long&nbsp;getMilisDiffSigningTime(org.w3c.dom.Element&nbsp;node)</pre>
<div class="block"><p>Comprueba la fecha de firma con respecto a la fecha actual del sistema.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - Nodo padre desde el cual se extraerá el nodo SigningTime</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 en caso de que sean iguales.
         < 0 en caso de que la fecha de firma sea anterior.
         > 0 en caso de una firma realizada en el furuto.</dd>
</dl>
</li>
</ul>
<a name="raiseLevel-java.io.InputStream-es.mityc.javasign.EnumFormatoFirma-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>raiseLevel</h4>
<pre>public&nbsp;boolean&nbsp;raiseLevel(java.io.InputStream&nbsp;firma,
                          <a href="../../../../../es/mityc/javasign/EnumFormatoFirma.html" title="enum in es.mityc.javasign">EnumFormatoFirma</a>&nbsp;nivelDeseado,
                          java.lang.String&nbsp;path,
                          java.lang.String&nbsp;nombreArchivo,
                          java.lang.String&nbsp;id,
                          java.lang.String&nbsp;ocspUrl,
                          java.lang.String&nbsp;tsaUrl,
                          java.lang.String&nbsp;trusterId)
                   throws java.lang.Exception</pre>
<div class="block">Sube el nivel XAdES de un InputStream de firma y lo guarda en la dirección indicada</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>InputStream</code> - Stream que contiene la firma</dd>
<dd><code>EnumFormatoFirma</code> - nivelDeseado de firma deseado</dd>
<dd><code>String</code> - path Ruta bajo la que se guarda el fichero generado</dd>
<dd><code>String</code> - nombreArchivo Nombre bajo el que se guarda el fichero generado</dd>
<dd><code>id</code> - Id de la firma a subir de nivel</dd>
<dd><code>ocspUrl</code> - URL del servidor OCSP</dd>
<dd><code>tsaUrl</code> - URL del servidor de la Autoridad de sellado de tiempo</dd>
<dd><code>trusterId</code> - Clave del validador de confianza a utilizar</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="raiseLevel-es.mityc.firmaJava.libreria.xades.DataToSign-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>raiseLevel</h4>
<pre>public&nbsp;org.w3c.dom.Document&nbsp;raiseLevel(<a href="../../../../../es/mityc/firmaJava/libreria/xades/DataToSign.html" title="class in es.mityc.firmaJava.libreria.xades">DataToSign</a>&nbsp;signData,
                                       java.lang.String&nbsp;signatureID)
                                throws <a href="../../../../../es/mityc/firmaJava/libreria/errores/ClienteError.html" title="class in es.mityc.firmaJava.libreria.errores">ClienteError</a></pre>
<div class="block"><p>Sube el nivel XAdES de la firma indicada.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signData</code> - Objeto con la información de la firma</dd>
<dd><code>signatureID</code> - Id de la firma a subir de nivel. Si es vac&iacute;o se contrafirma la última firma.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Documento de firma generado</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../es/mityc/firmaJava/libreria/errores/ClienteError.html" title="class in es.mityc.firmaJava.libreria.errores">ClienteError</a></code></dd>
</dl>
</li>
</ul>
<a name="addURIXadesC-org.w3c.dom.Element-java.util.ArrayList-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addURIXadesC</h4>
<pre>public&nbsp;org.w3c.dom.Document&nbsp;addURIXadesC(org.w3c.dom.Element&nbsp;firma,
                                         java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/NombreElementos.html" title="class in es.mityc.firmaJava.libreria.xades">NombreElementos</a>&gt;&nbsp;listaArchivos,
                                         java.lang.String&nbsp;baseUri)
                                  throws <a href="../../../../../es/mityc/firmaJava/libreria/xades/errores/FirmaXMLError.html" title="class in es.mityc.firmaJava.libreria.xades.errores">FirmaXMLError</a></pre>
<div class="block">Este método se encarga de insertar las URIs de XADES-C en la firma</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firma,</code> - Documento con la firma xml</dd>
<dd><code>listaArchivos,</code> - Lista de nombres de la respuestaOCSP y el path de certificación</dd>
<dd><code>baseUri</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Document doc, Documento firmado con las nuevas URI´s</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../es/mityc/firmaJava/libreria/xades/errores/FirmaXMLError.html" title="class in es.mityc.firmaJava.libreria.xades.errores">FirmaXMLError</a></code></dd>
</dl>
</li>
</ul>
<a name="saveOCSPFiles-java.util.ArrayList-es.mityc.javasign.xml.xades.IStoreElements-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>saveOCSPFiles</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/NombreElementos.html" title="class in es.mityc.firmaJava.libreria.xades">NombreElementos</a>&gt;&nbsp;saveOCSPFiles(java.util.ArrayList&lt;<a href="../../../../../es/mityc/firmaJava/libreria/xades/RespYCerts.html" title="class in es.mityc.firmaJava.libreria.xades">RespYCerts</a>&gt;&nbsp;respuesta,
                                                          <a href="../../../../../es/mityc/javasign/xml/xades/IStoreElements.html" title="interface in es.mityc.javasign.xml.xades">IStoreElements</a>&nbsp;storer)</pre>
<div class="block">Este método se encarga de guardar los archivos OCSP</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>un ArrayList con la lista de archivos guardados</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../es/mityc/firmaJava/libreria/xades/ExtraValidators.html" title="class in es.mityc.firmaJava.libreria.xades"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../es/mityc/firmaJava/libreria/xades/logv.html" title="class in es.mityc.firmaJava.libreria.xades"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?es/mityc/firmaJava/libreria/xades/FirmaXML.html" target="_top">Frames</a></li>
<li><a href="FirmaXML.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
